# MLOps Platform
-----------
#### Цель проекта
Дать представление о том, что такое MLOps платформа, с помощью которой можно разрабатывать, обучать и исполнять модели машинного обучения.

**MLOps Platform**, предназначена для стандартизации процесса разработки и вывода моделей машинного обучения в продуктовую среду.

-----------
## Архитектура контура моделирования
<img src="https://github.com/MacJei/mlops_platform/blob/main/images/architecture3.PNG" width="2000">

-----------
#### Предпосылки создания платформы MLOps 

•	Существовал разрыв между технологиями разработки и применения моделей
Не было единого промышленного способа для внедрения моделей, что приводило к невозможности быстро и предсказуемо внедрять разрабатываемые модели в продуктовую среду. Моделисты использовали разные подходы и инструменты для деплоя и тестирования моделей

•	Разработка моделей была локальной
Инженеры писали код на своих компьютерах. Это приводило к тому, что код не всегда воспроизводился на сервере

•	Код моделей не версионировался и не бекапировался
Наработки терялись из-за сбоев в работе компьютеров, что увеличивало длительность разработки и внедрения моделей.

#### Главные требования к программной составляющей экосистемы на старте работ было таким:

•	решение должно быть построено на базе программных решений с открытым кодом (Open Source);

•	решение должно поддерживать горизонтальное масштабирование;

•	должна быть простая архитектуру с возможностью развертывания в сжатые сроки;

•	решение должно позволять взаимодействовать с источниками и приемниками информации в пакетном режиме;

•	решение должно позволять хранить данные в реляционном и nosql форматах.

#### Для имплементации этих задач были выбраны следующие программные компоненты:
1.	DockerSwarm как среда контейнеризации.
2.	JupyterHub многопользовательский сервер для запуска Jupyterlab, и JupyterLab в качестве рабочего места DS. При этом однопользовательские сервера JupyterLab создаются в отдельных контейнерах, для входа реализована интеграция со службой контроля доступа. JupyterLab это среда разработки и прототипирование моделей, а также решение аналитических задач, в котором пользователь имеет следующие возможности конфигурирования однопользовательского сервера:

•	Выбор одного из заранее собранных окружений. 

•	Установка библиотек из прокси-репозитория PyPi (размещенном в Artifactory). Библиотека устанавливается в текущий экземпляр однопользовательского сервера JupyterLab.

•	Выбора параметров однопользовательского сервера JupyterLab (CPU, RAM). При этом в зависимости от роли пользователя установлены ограничения на выбор ресурсов. 

3.	AirFlow как средство оркестрации моделей машинного обучения и потоков данных. Компоненты Airflow также контейнеризованы и управляются в рамках кластера, реализована интеграция со службой контроля доступа. Является планировщиком для batch моделей.
4.	MLFlow как инструмент управления жизненным циклом ML-моделей, а также Data Science экспериментами.
5.	GitLab как система контроля версионности.
6.	Jenkins как средство реализации процессов непрерывной интеграции, автоматизирующий сборку и развертывание моделей.
7.	Artifactory как хранилище docker image и прокси-репозиторий PyPi (репозитория библиотек Python).
8.	Стек Prometheus как инструментарий сбора и анализа логов.
9.	Grafana как средство технического мониторинга состояния кластера, а также визуализации и мониторинга результатов ML-моделей.
10.	В качестве основного источника информации для прототипирования используется Корпоративное Озеро Данных на базе экосистемы Hadoop, консолидирующее в себе внутренние системы и внешние источники. Для хранения результатов работы прототипов и экспериментов используется HDFS.
11.	Nginx — проксирует запросы JupyterHub
12.	СУБД PostgreSQL – СУБД, управляющая базой для приложений Airflow и MLflow.
13.	NFS – хранилище для персистентных томов (используется для хранения файлов в ходе работы с кодом модели в Jupyter.
